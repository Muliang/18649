; 18649 Fall 2013
; group 9
; Priya Mahajan (priyam), Wenhui Hu (wenhuih), Yichao Xue(yichaox), Yujia Wang(yujiaw)
; Scenario6A.mf  author: Yujia Wang(yujiaw)
;**************************************
;
;	     Scenario6A.mf
;
;**************************************
#INCLUDE ElevatorDefines.mf

#DEFINE FLOOR 1
#DEFINE HALLWAY FRONT

#DEFINE HALLWAY FRONT
#DEFINE CURRENT_FLOOR 1
#DEFINE NEXT_FLOOR 3
#DEFINE DIRECTION UP
#DEFINE SIDE LEFT

#DEFINE LEVEL_SPEED 0.10
#DEFINE SLOW_SPEED 0.25

; Intialize car stopp at Lobby
0.00s I AT_FLOOR_PERIOD N AT_FLOOR_[1][FRONT]_CAN_ID AtFloor FLOOR HALLWAY = true;

0.00s I CAR_BUTTON_CONTROL_PERIOD F CarCall NEXT_FLOOR HALLWAY = false;

0.00s I DISPATCHER_PERIOD N DESIRED_FLOOR_CAN_ID DesiredFloor = CURRENT_FLOOR FRONT STOP;
0.00s I DOOR_CLOSED_SENSOR_PERIOD N DOOR_CLOSED_SENSOR_[FRONT][RIGHT]_CAN_ID DoorClosed FRONT RIGHT = true;
0.00s I DOOR_CLOSED_SENSOR_PERIOD N DOOR_CLOSED_SENSOR_[FRONT][LEFT]_CAN_ID DoorClosed FRONT LEFT = true;
0.00s I DOOR_CLOSED_SENSOR_PERIOD N DOOR_CLOSED_SENSOR_[BACK][RIGHT]_CAN_ID DoorClosed BACK RIGHT = true;
0.00s I DOOR_CLOSED_SENSOR_PERIOD N DOOR_CLOSED_SENSOR_[BACK][LEFT]_CAN_ID DoorClosed BACK LEFT = true;
0.00s I LEVEL_SENSOR_PERIOD N LEVEL_SENSOR_[UP]_CAN_ID Leveling UP = true;
0.00s I LEVEL_SENSOR_PERIOD N LEVEL_SENSOR_[DOWN]_CAN_ID Leveling DOWN = true;
0.00s I WEIGHT_PERIOD N CAR_WEIGHT_CAN_ID CarWeight = 100;
0.00s I DRIVE_PERIOD F DriveSpeed = STOP 0;

+1.00s I CAR_BUTTON_CONTROL_PERIOD F CarCall NEXT_FLOOR HALLWAY = true;

+0.10s I DISPATCHER_PERIOD N DESIRED_FLOOR_CAN_ID DesiredFloor = NEXT_FLOOR FRONT STOP;

; #arc '6A/1'
+0.00s A F CarPositionIndicator : floor == 1;

;#arc '6A/2'
+0.50s A F CarLight NEXT_FLOOR HALLWAY : isLighted == true;

;#arc '6A/3'
+0.50s A F Drive : speed == SLOW;
+0.00s A F Drive : direction == UP;
+0.00s I DRIVE_PERIOD F DriveSpeed = UP SLOW_SPEED; 

;#arc '6A/4'
+0.50s I AT_FLOOR_PERIOD N AT_FLOOR_[1][FRONT]_CAN_ID AtFloor FLOOR HALLWAY = false;
+0.50s I AT_FLOOR_PERIOD N AT_FLOOR_[3][FRONT]_CAN_ID AtFloor NEXT_FLOOR HALLWAY = true;

;#arc '6A/5'
+0.20s A F CarPositionIndicator : floor == 3;

;#arc '6A/6'
+0.00s A F Drive : speed == LEVEL;
+0.00s A F Drive : direction == UP;
+0.00s I DRIVE_PERIOD F DriveSpeed = UP LEVEL_SPEED;